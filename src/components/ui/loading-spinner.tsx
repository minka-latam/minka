"use client";

import React from "react";
import { cn } from "@/lib/utils";

interface LoadingSpinnerProps extends React.HTMLAttributes<HTMLDivElement> {
  size?: "xs" | "sm" | "md" | "lg" | "xl";
  showText?: boolean;
  text?: string;
}

export function LoadingSpinner({
  size = "xl",
  showText = false,
  text = "Loading...",
  className,
  ...props
}: LoadingSpinnerProps) {
  const sizeClasses = {
    xs: "w-5 h-5",
    sm: "w-16 h-16",
    md: "w-24 h-24",
    lg: "w-32 h-32",
    xl: "w-64 h-64", // 3x larger than lg
  };

  return (
    <div
      className={cn("flex flex-col items-center justify-center", className)}
      {...props}
    >
      <div className={cn("relative", sizeClasses[size])}>
        {/* Gradient spinner with rounded head */}
        <div
          className="absolute inset-0 flex items-center justify-center"
          style={{
            transform: "scale(1.3)",
          }}
        >
          <div
            className="w-full h-full rounded-full animate-spin"
            style={{
              animationDuration: "1s",
              backgroundImage:
                "conic-gradient(from 0deg, #356945 0deg, #7fb78a 20%, transparent 100%)",
              maskImage:
                "radial-gradient(transparent 58%, black 58%, black 72%, transparent 72%)",
              WebkitMaskImage:
                "radial-gradient(transparent 58%, black 58%, black 72%, transparent 72%)",
              borderRadius: "50%",
              position: "relative",
            }}
          ></div>
        </div>

        {/* Pulsating effect for the logo */}
        <div
          className="absolute inset-0 flex items-center justify-center animate-pulse"
          style={{ animationDuration: "1.2s" }}
        >
          <svg
            width="36%"
            height="36%"
            viewBox="0 0 110 128"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="text-[#356945]"
          >
            <path
              d="M109.799 46.3861C108.621 41.7122 102.611 38.2367 100.136 37.6375C95.8932 36.1994 91.5328 35.72 87.1725 36.4391C88.8223 32.0048 90.3544 28.5294 92.1221 25.773C93.1827 23.9753 94.479 22.5372 95.7754 20.9792C96.836 19.7808 97.7788 18.5823 98.4859 17.5037C100.371 14.6275 100.136 12.5901 99.5465 11.2718C98.4859 8.99478 95.7754 8.03603 94.3612 7.91618C88.5866 7.31696 82.3407 9.47416 75.8591 14.3878C67.2562 20.7395 61.1281 30.4469 56.2963 45.0679L55.5892 7.55665C57.1213 6.95743 58.064 5.39946 57.9462 3.60179C57.7105 1.4446 55.9428 -0.113374 53.8215 0.00647022C52.7609 0.126314 51.8181 0.605691 51.2289 1.4446C50.5218 2.28351 50.2861 3.24226 50.4039 4.32086C50.5218 6.11852 51.8181 7.43681 53.468 7.79634L54.0572 44.1091C49.3433 29.9675 43.2152 20.4998 34.7302 14.2679C28.1307 9.47416 21.8847 7.31696 16.1102 7.79634C14.8139 7.91618 11.9855 8.75509 10.807 11.152C10.2178 12.3504 9.86427 14.5076 11.7498 17.264C12.4569 18.4625 13.5176 19.6609 14.4603 20.8593C15.521 22.1776 16.5816 23.4959 17.6422 24.934C19.7635 27.9302 21.5312 32.2445 22.9454 36.3192C18.4672 35.6002 14.1068 35.9597 9.86427 37.5177C7.38946 38.1169 1.26137 41.5924 0.200742 46.2663C-0.27065 48.1838 -0.152802 50.9402 3.26479 53.9363C3.73618 54.2959 4.20757 54.6554 4.67896 55.0149C8.09655 57.5317 11.5141 60.1682 14.1068 66.1604C16.4637 71.5534 18.1136 78.025 19.7635 84.2569C22.2383 93.7246 24.8309 103.552 29.7806 109.904C30.959 111.462 34.0231 115.297 37.3228 115.656C37.5585 115.656 37.6764 115.656 37.9121 115.656C39.9155 115.656 40.8583 114.697 41.3296 113.858C42.9795 110.862 39.4441 105.829 38.3835 104.271C35.5551 100.436 32.0197 95.5222 29.6627 87.8522C28.1307 82.9386 27.0701 78.6242 26.0094 74.4297C23.5346 64.3628 21.5312 56.3332 15.521 48.4235C15.0496 47.8243 14.2246 47.7044 13.7532 48.1838C13.164 48.6632 13.0462 49.5021 13.5175 49.9815C19.1742 57.5317 21.0598 65.2017 23.5346 75.0289C24.4774 79.1036 25.6559 83.6577 27.1879 88.6911C29.6627 96.7207 33.316 101.874 36.4979 106.069C38.737 109.065 39.6798 111.941 39.2084 112.78C38.9727 113.139 38.1478 113.139 37.7942 113.139C36.2622 112.9 34.0231 111.102 32.0197 108.346C27.3057 102.353 24.9488 93.2452 22.474 83.6577C20.8241 77.3059 19.0564 70.7145 16.6994 65.0818C13.8711 58.4904 9.86427 55.4943 6.44668 52.8577C5.97529 52.4982 5.50389 52.1387 5.15035 51.899C3.26479 50.341 2.5577 48.6632 3.02909 46.9854C3.97187 43.39 9.27503 40.5138 10.807 40.1543C10.9249 40.1543 10.9249 40.1543 11.0427 40.1543C15.7567 38.4764 20.7063 38.3566 25.7737 39.6749C37.9121 42.7908 46.3971 52.7379 53.9394 72.632C53.9394 72.7519 53.9394 72.7519 53.8215 72.8717C52.1716 80.0623 50.1682 89.6499 49.579 100.436C48.9898 109.304 49.2255 116.016 50.1682 120.57C51.4646 127.041 53.8215 128 55.2357 128C56.532 128 59.0068 127.041 60.3032 120.57C61.2459 115.896 61.4816 108.945 60.8924 100.076C60.421 91.4475 59.1247 82.6989 56.532 72.3923C64.0743 52.618 72.4415 42.7908 84.5798 39.6749C89.6473 38.3566 94.5969 38.4764 99.3108 40.1543C99.3108 40.1543 99.4286 40.1543 99.5465 40.1543C101.196 40.5138 106.5 43.39 107.324 46.9854C107.796 48.6632 107.089 50.341 105.203 51.899C104.732 52.2585 104.26 52.618 103.789 52.9776C100.254 55.6141 96.3646 58.6102 93.5362 65.2017C91.0614 70.8344 89.4116 77.4258 87.7617 83.7775C85.2869 93.4849 82.9299 102.593 78.216 108.585C76.2126 111.342 74.0914 113.139 72.5593 113.259C72.2058 113.259 71.263 113.259 71.0273 112.9C70.5559 112.061 71.4987 109.184 73.7378 106.188C76.9197 101.994 80.573 96.8405 83.0478 88.811C84.5798 83.7775 85.7583 79.2234 86.7011 75.1487C89.1759 65.3215 91.0614 57.6515 96.7181 50.1013C97.1895 49.5021 97.0717 48.6632 96.4824 48.3037C95.8932 47.8243 95.0683 47.9441 94.7147 48.5433C88.5866 56.3332 86.5832 64.2429 84.1084 74.4297C83.0478 78.6242 81.9872 82.9386 80.4551 87.8522C78.0982 95.5222 74.6806 100.436 71.6165 104.511C70.5559 105.949 67.0205 110.982 68.6703 114.098C69.1417 114.937 70.0845 115.776 72.0879 115.776C72.3236 115.776 72.4415 115.776 72.6772 115.776C75.9769 115.297 79.041 111.581 80.2194 110.023C85.2869 103.672 87.7617 93.8444 90.2365 84.2569C91.8864 78.025 93.5362 71.5534 95.8932 66.1604C98.4859 60.1682 101.903 57.5317 105.321 55.0149C105.792 54.6554 106.264 54.2959 106.735 53.9363C110.153 51.0601 110.271 48.1838 109.799 46.3861ZM57.7105 120.09C56.8856 124.165 55.7071 125.483 55.2357 125.483C54.7643 125.483 53.5858 124.165 52.7609 120.21C51.8181 115.896 51.7003 109.184 52.1716 100.676C52.643 92.2865 53.9394 84.6164 55.2357 78.2647C57.0034 86.1744 57.9462 93.365 58.2997 100.316C58.889 108.825 58.6533 115.656 57.7105 120.09ZM55.1178 68.9168C48.2827 51.899 40.5047 42.4313 29.8984 38.3566C29.8984 38.2367 29.8984 38.1169 29.8984 38.1169C29.3092 32.3644 27.5414 21.9379 23.1811 17.1442C22.7097 16.6648 21.8847 16.545 21.2955 17.0243C20.8241 17.5037 20.7063 18.3426 21.1777 18.9418C23.8882 21.9379 26.0094 28.6492 27.0701 37.5177C26.7165 37.3978 26.363 37.278 26.0094 37.1581H25.8916C24.1239 32.2445 22.2383 27.2111 19.7635 23.6158C18.7029 22.0578 17.5244 20.6197 16.4637 19.3014C15.521 18.1029 14.5782 17.0243 13.8711 15.9457C12.9283 14.5076 12.5748 13.3092 13.0462 12.3504C13.6354 11.152 15.1674 10.5528 16.2281 10.4329C21.2955 9.95353 26.9522 11.9909 32.8446 16.4251C42.3903 23.4959 48.7541 34.8811 53.7037 53.2173C53.8215 53.6966 54.1751 54.0562 54.6465 54.176C54.7643 54.176 54.7643 54.176 54.8822 54.176H55H55.1178C55.2357 54.176 55.2357 54.176 55.3535 54.176C55.8249 54.0562 56.1785 53.6966 56.2963 53.2173C61.2459 34.7613 67.6097 23.4959 77.1554 16.4251C83.1656 11.871 88.8223 9.83369 93.8898 10.4329C94.8326 10.5528 96.4824 11.152 96.9538 12.3504C97.4252 13.429 96.7181 14.987 96.0111 15.9457C95.4218 16.9045 94.479 18.1029 93.5362 19.1815C92.3578 20.6197 90.9436 22.2975 89.7651 24.215C87.6439 27.5706 85.8761 31.7652 83.9906 36.9185H83.8727C83.5192 37.0383 83.2835 37.1581 82.9299 37.1581C83.9906 28.2897 86.1118 21.5784 88.8223 18.5823C89.2937 18.1029 89.2937 17.264 88.7045 16.6648C88.2331 16.1854 87.4082 16.1854 86.8189 16.7846C82.4585 21.5784 80.6908 32.0049 80.1016 37.7574C80.1016 37.8772 80.1016 37.8772 80.1016 37.9971C69.731 42.3114 61.953 51.7791 55.1178 68.9168Z"
              fill="currentColor"
            />
          </svg>
        </div>
      </div>

      {showText && <p className="pt-4 mt-4 text-[#356945] font-medium">{text}</p>}
    </div>
  );
}
